"use strict";(self.webpackChunkscintello_super_admin=self.webpackChunkscintello_super_admin||[]).push([[552],{21552:function(e,t,n){n.r(t);var s=n(74165),i=n(15861),a=n(29439),o=n(72791),r=n(78983),l=n(31243),c=n(21830),d=n.n(c),u=n(80184),p={WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",display:"-webkit-box"};t.default=function(){var e="undefined"!==typeof window?localStorage.getItem("status"):null,t=(0,o.useState)(""),n=(0,a.Z)(t,2),c=n[0],h=n[1],x=(0,o.useState)([]),m=(0,a.Z)(x,2),f=m[0],b=m[1],j=(0,o.useState)(!1),g=(0,a.Z)(j,2),w=g[0],k=g[1],v=(0,o.useState)(!1),S=(0,a.Z)(v,2),y=S[0],N=S[1],C=(0,o.useState)(""),Z=(0,a.Z)(C,2),B=Z[0],A=Z[1],_=(0,o.useState)(""),z=(0,a.Z)(_,2),D=z[0],L=z[1],E=(0,o.useState)(""),F=(0,a.Z)(E,2),T=F[0],Q=F[1],I=(0,o.useState)(""),P=(0,a.Z)(I,2),W=P[0],q=P[1],G=(0,o.useState)(""),H=(0,a.Z)(G,2),M=H[0],O=H[1];(0,o.useEffect)((function(){l.Z.get("userTicketlist",{headers:{Accept:"application/json",Authorization:"Bearer "+e}}).then((function(e){console.log(e,"ticket List all"),b(e.data.data)}))}),[e]);var V=function(){var t=(0,i.Z)((0,s.Z)().mark((function t(n){var i;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),console.log("QId:",T),(i=new FormData).append("description",c),i.append("ticket_id",T),console.log(c),console.log(T),console.log(i),t.next=10,l.Z.post("addChat",i,{headers:{Accept:"application/json",Authorization:"Bearer "+e}}).then((function(e){console.log(e.data),d().fire({position:"top-end",icon:"success",title:e.data.message,showConfirmButton:!1,timer:2500}),window.location.reload(!1)})).catch((function(e){console.log(e),d().fire({position:"top-end",icon:"error",title:e.response.data.message,showConfirmButton:!1,timer:1500})}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r.rb,{className:"mb-2 px-2",children:f.map((function(t,n){return(0,u.jsx)(r.b7,{sm:6,md:6,lg:4,children:(0,u.jsx)(r.xH,{className:"shadow mb-3 bg-body rounded",children:(0,u.jsxs)(r.sl,{children:[(0,u.jsxs)("div",{className:" d-flex justify-content-between",children:[(0,u.jsx)(r.tj,{className:"fw-bolder",style:{fontSize:"16px"},children:t.ticket_id}),(0,u.jsx)("span",{style:{fontSizeAdjust:10,height:25,fontSize:"12px",background:"1"==t.status?"#21cf3b":"#ff000070"},className:" rounded-5 text-white px-3 py-1 fw-semibold d-flex align-items-center  text-center ",children:"1"==t.status?"Completed":"Pending"})]}),(0,u.jsx)(r.a1,{style:{fontSize:"14px"},className:"mb-3 mt-1 text-medium-emphasis",children:new Date(t.created_at).toLocaleString()}),(0,u.jsx)(r.uS,{style:p,children:t.discription}),"1"==t.status?(0,u.jsx)(r.u5,{className:"text-white px-4 py-1 rounded-5 fw-semibold border border-white",style:{backgroundColor:"#1D718B",fontSize:"12px"},onClick:function(){return function(t){O(t.ticket_id),k(!0);var n=new FormData;n.append("ticket_id",t.id),l.Z.post("getMsgforadmin",n,{headers:{Authorization:"Bearer "+e}}).then((function(e){console.log(e,"Ans view"),q(e.data.data)})).catch((function(e){console.log(e)}))}(t)},children:"View"}):(0,u.jsx)(r.u5,{className:"text-white px-4 py-1 rounded-5 fw-semibold border border-white",style:{backgroundColor:"#1D718B",fontSize:"12px"},onClick:function(){return e=t,console.log("handleGiveAnswer called"),console.log(e.ticket_id),console.log(e,"view"),N(!0),A(e.discription),L(e.ticket_id),void Q(e.id);var e},children:"Answer"})]})})},n)}))}),(0,u.jsxs)(r.Tk,{backdrop:"static",visible:w,onClose:function(){return k(!1)},"aria-labelledby":"StaticBackdropExampleLabel",children:[(0,u.jsx)(r.p0,{children:(0,u.jsxs)(r.fl,{id:"StaticBackdropExampleLabel",children:[" ",M]})}),(0,u.jsxs)(r.sD,{children:[(0,u.jsx)("div",{className:"my-1",children:(0,u.jsx)("strong",{className:" ",children:"Question"})}),W.question,(0,u.jsx)("div",{className:"mt-4 mb-1",children:(0,u.jsx)("strong",{className:" ",children:"Answer"})}),W.answer]})]}),(0,u.jsxs)(r.Tk,{backdrop:"static",visible:y,onClose:function(){return N(!1)},"aria-labelledby":"StaticBackdropExampleLabel",children:[(0,u.jsx)(r.p0,{children:(0,u.jsx)(r.fl,{id:"StaticBackdropExampleLabel",children:D})}),(0,u.jsxs)(r.sD,{children:[(0,u.jsx)("div",{className:"my-1",children:(0,u.jsx)("strong",{className:" ",children:"Question"})}),B]}),(0,u.jsxs)(r.lx,{className:"px-3",children:[(0,u.jsx)("div",{className:"mb-2",children:(0,u.jsx)("strong",{className:" ",children:"Answer"})}),(0,u.jsx)(r.PB,{id:"exampleFormControlTextarea1",rows:9,onChange:function(e){return h(e.target.value)}})]}),(0,u.jsx)(r.Ym,{children:(0,u.jsx)(r.u5,{onClick:V,className:"bg-black text-white border-b",children:"Sumbit"})})]})]})}}}]);
//# sourceMappingURL=552.5348d07a.chunk.js.map